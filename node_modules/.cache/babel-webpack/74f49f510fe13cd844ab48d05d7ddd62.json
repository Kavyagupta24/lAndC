{"ast":null,"code":"import _asyncToGenerator from \"E:/Gamentio/lAndC/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Client } from 'colyseus.js';\nimport { MessagepopupComponent } from 'src/app/messagepopup/messagepopup.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./../../globalVars\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../messagepopup/messagepopup.component\";\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nconst client = new Client(\"ws://34.197.91.228:3003\");\nexport let LudoPlayWithFriendsComponent = /*#__PURE__*/(() => {\n  class LudoPlayWithFriendsComponent {\n    constructor(router, global) {\n      this.router = router;\n      this.global = global;\n      this.roomCode = \"\";\n      this.roomExsitOrnot = false;\n      this.messagePopUp = new MessagepopupComponent();\n    }\n\n    back() {\n      console.log(\"going back to Ludo landing page\");\n      this.router.navigateByUrl(\"ludoLandingPage\");\n    }\n\n    create() {\n      this.global.createOrJoin = \"create\";\n      this.global.LudoGameType = \"PWF\";\n      this.router.navigateByUrl('ludoRandomPlay');\n    }\n\n    ngOnInit() {}\n\n    onClaim(type) {\n      this.messagePopUp.isVisible = false;\n    }\n\n    ludoJoin() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.global.createOrJoin = \"join\";\n        _this.global.roomCode = _this.roomCode;\n\n        if (_this.global.createOrJoin == \"join\") {\n          yield client.getAvailableRooms(\"playWithFriends\").then(rooms => {\n            rooms.forEach(room => {\n              var _a;\n\n              if (String(_this.global.roomCode) == String(room.roomId)) {\n                console.log(\"herererere\");\n                _this.roomExsitOrnot = true;\n              }\n\n              console.log(room.roomId.length, (_a = _this.global.roomCode) === null || _a === void 0 ? void 0 : _a.length);\n              console.log(room.clients);\n              console.log(room.maxClients);\n              console.log(room.metadata);\n            });\n          }).catch(e => {\n            console.error(e);\n          });\n          console.log(_this.roomExsitOrnot);\n\n          if (_this.roomExsitOrnot == false) {\n            _this.messagePopUp.isVisible = true;\n            _this.messagePopUp.popupMessage = 'Wrong Room Code. Please try Again';\n          } else {\n            _this.global.checkersGameType = \"PWF\";\n            _this.global.createOrJoin = \"join\";\n\n            _this.router.navigateByUrl('ludo');\n          }\n        }\n      })();\n    }\n\n  }\n\n  LudoPlayWithFriendsComponent.ɵfac = function LudoPlayWithFriendsComponent_Factory(t) {\n    return new (t || LudoPlayWithFriendsComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GlobalDetails));\n  };\n\n  LudoPlayWithFriendsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LudoPlayWithFriendsComponent,\n    selectors: [[\"app-ludo-play-with-friends\"]],\n    viewQuery: function LudoPlayWithFriendsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MessagepopupComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messagePopUp = _t.first);\n      }\n    },\n    decls: 22,\n    vars: 3,\n    consts: [[1, \"game-wrap\"], [1, \"back-header\"], [3, \"click\"], [\"src\", \"../../../assets/img1/Button_Back.png\", \"alt\", \"back-btn\", 1, \"back-btn\"], [1, \"inner-game-wrap\"], [1, \"redBox\", \"select-players\"], [1, \"redBox-header\"], [1, \"redBox-body\"], [1, \"form-group\"], [\"type\", \"email\", 1, \"form-control\", \"text-center\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"green-btn\", 3, \"click\"], [1, \"ortxt\"], [1, \"yellow-btn\", 3, \"click\"], [3, \"isClaimed\"]],\n    template: function LudoPlayWithFriendsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"a\", 2);\n        i0.ɵɵlistener(\"click\", function LudoPlayWithFriendsComponent_Template_a_click_2_listener() {\n          return ctx.back();\n        });\n        i0.ɵɵelement(3, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"h2\");\n        i0.ɵɵtext(5, \"Play With Friends\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵelementStart(8, \"div\", 6);\n        i0.ɵɵelementStart(9, \"span\");\n        i0.ɵɵtext(10, \"Enter Room Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"form\");\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵelementStart(14, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function LudoPlayWithFriendsComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.roomCode = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function LudoPlayWithFriendsComponent_Template_button_click_15_listener() {\n          return ctx.ludoJoin();\n        });\n        i0.ɵɵtext(16, \"Join Room\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 11);\n        i0.ɵɵtext(18, \"OR\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 12);\n        i0.ɵɵlistener(\"click\", function LudoPlayWithFriendsComponent_Template_button_click_19_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵtext(20, \"Create Room\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"app-messagepopup\", 13);\n        i0.ɵɵlistener(\"isClaimed\", function LudoPlayWithFriendsComponent_Template_app_messagepopup_isClaimed_21_listener($event) {\n          return ctx.onClaim($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(14);\n        i0.ɵɵproperty(\"ngModel\", ctx.roomCode)(\"ngModelOptions\", i0.ɵɵpureFunction0(2, _c0));\n      }\n    },\n    directives: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.MessagepopupComponent],\n    styles: [\".redBox[_ngcontent-%COMP%]{background-color:#850808;border-radius:10px;margin-top:1rem}.redBox-header[_ngcontent-%COMP%]{text-align:center;padding:10px 0;background:url(panel_Header.801c028a86fa4ca9996b.png) 0/100% 100% no-repeat;color:#9a0e0e;font-size:24px;font-weight:bold;border-radius:10px 10px 0 0;text-transform:uppercase}.redBox-body[_ngcontent-%COMP%]{font-size:24px;font-weight:500;color:#fff;padding:.6em 1em;display:flex;align-items:center;justify-content:space-between;border:2px solid #ffe01f;border-top:0;border-radius:0 0 10px 10px}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:24px;font-weight:600;line-height:1.5;color:#000;border:none;background:url(Inputbox.a7a9f30fe1c010a6e009.png) 0/100% 100% no-repeat}.form-control[_ngcontent-%COMP%]:focus-visible{outline:none}.green-btn[_ngcontent-%COMP%]{width:70%;margin:1rem auto 0;display:block}.ortxt[_ngcontent-%COMP%]{font-size:35px;font-weight:700;color:#fddc01;text-align:center;margin-top:2rem}.game-wrap[_ngcontent-%COMP%]{max-width:1200px;background-image:url(Repeatable_Bg.b574a19b90b62ab8e8c5.png),url(Stretchable_BG.dce3ef7f961a3776c48b.png);background-size:auto,100% 100%;background-repeat:repeat,no-repeat;height:100%;margin:auto;position:relative}.inner-game-wrap[_ngcontent-%COMP%]{max-width:500px;height:100%;margin:auto;padding:0 50px}.back-header[_ngcontent-%COMP%]{background:url(Header_Stretchable.7a491bb684ac6a0e3bfa.png) 0/100% 100% no-repeat;height:20vh;width:100%;position:relative;text-align:center;max-height:100px;display:flex;align-items:center;justify-content:center}.back-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;font-size:31px;color:#ffdc00;margin:-10px 0 0}.back-btn[_ngcontent-%COMP%]{position:absolute;left:5%;top:46%;transform:translateY(-50%);width:50px}.green-btn[_ngcontent-%COMP%], .yellow-btn[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem .98rem;line-height:2;font-size:24px;font-weight:700;border:none;cursor:pointer;margin-top:2rem;position:relative}.green-btn[_ngcontent-%COMP%]{background:url(button_green_bg.dca9c612071e4575ebc7.png) 0/100% 100% no-repeat;color:#fff}.yellow-btn[_ngcontent-%COMP%]{background:url(Button_Yellow.220e88afc556dbcae0b3.png) 0/100% 100% no-repeat;color:#9a0e0e}.text-center[_ngcontent-%COMP%]{text-align:center}@media screen and (max-width: 767px){.back-header[_ngcontent-%COMP%]{max-height:100px}.back-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.back-btn[_ngcontent-%COMP%]{width:40px}.inner-game-wrap[_ngcontent-%COMP%]{padding:0 25px}.green-btn[_ngcontent-%COMP%], .yellow-btn[_ngcontent-%COMP%]{font-size:16px;padding:.375rem .75rem .67rem}.redBox-body[_ngcontent-%COMP%]{font-size:18px;padding:1em}.redBox-header[_ngcontent-%COMP%]{font-size:18px}}\"]\n  });\n  return LudoPlayWithFriendsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}